import{a as D}from"./vendor-utils-IiNHtr66.js";import{r as n}from"./vendor-core-CiUIJZ_7.js";function R(f,S,g=24){if(typeof window<"u"){const l=new Date;l.setTime(l.getTime()+g*60*60*1e3);const d="expires="+l.toUTCString();document.cookie=`${f}=${S}; ${d}; path=/; SameSite=Lax`}}function I(f){if(typeof window<"u"){const S=f+"=",g=document.cookie.split(";");for(let l=0;l<g.length;l++){const d=g[l].trim();if(d.indexOf(S)===0)return d.substring(S.length)}}return""}const w=()=>({Accept:"application/json","Content-Type":"application/json"}),m="http://65.109.192.18:8181/",W="Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMWMyNThlNjEtOWEzMi00YzQxLTljMGItZmNiNWUxOGRjYzE5IiwidXNlcm5hbWUiOiJ1c2VyMDgxIiwiZXhwIjoxNzU0MjIxMDQwLCJpYXQiOjE3NTQyMTk5MDB9.39q4VSlGaxEfpBVfFUyp8EvyvFdBWbOPuWQaSdDWMcs",B=()=>{const[f,S]=n.useState({page:void 0,pageSize:void 0}),[g,l]=n.useState({}),[d,k]=n.useState(""),z=D.create({baseURL:m,headers:w()}),x=D.create({baseURL:m,headers:w()});x.interceptors.request.use(e=>e);const U=e=>{const t=I("token-data"),a={...w(),...t&&{Authorization:"Bearer "+t},...e};return D.create({baseURL:m,headers:a})},y=n.useCallback(async(e,t,a,p={})=>{const u=I("token-data"),r={...w(),...u?{Authorization:`Bearer ${u}`}:{},...p},c=D.create({baseURL:m,headers:r}),h={params:{...g,...d&&{search:d},page:f.page,pageSize:f.pageSize}};try{let s;switch(e){case"get":s=await c.get(t,h);break;case"post":s=await c.post(t,a,h);break;case"put":s=await c.put(t,a,h);break;case"delete":s=await c.delete(t,h);break;default:throw new Error("Unsupported method")}return s.data}catch(s){throw s}},[g,d,f]);return{axiosInstance:z,axiosAuthInstance:x,withCustomHeaders:U,performRequest:y,useGetData:(e,t={})=>{const[a,p]=n.useState(null),[u,r]=n.useState(!1),[c,i]=n.useState(null);return{data:a,loading:u,error:c,fetchData:async()=>{r(!0),i(null);try{const s=await y("get",e,void 0,t);p(s)}catch(s){i(s)}finally{r(!1)}}}},usePostData:(e,t={})=>{const[a,p]=n.useState(null),[u,r]=n.useState(!1),[c,i]=n.useState(null),h=n.useCallback(async s=>{r(!0),i(null);try{const o=await y("post",e,s,t);return p(o),o}catch(o){return i(o||!0),null}finally{r(!1)}},[e,t,y]);return{data:a,loading:u,error:c,sendData:h}},useUpdateData:(e,t={})=>{const[a,p]=n.useState(null),[u,r]=n.useState(!1),[c,i]=n.useState(null);return{data:a,loading:u,error:c,sendData:async s=>{r(!0),i(null);try{const o=await y("put",e,s,t);return p(o),o}catch(o){return i(o),null}finally{r(!1)}}}},useDeleteData:(e,t={})=>{const[a,p]=n.useState(null),[u,r]=n.useState(!1),[c,i]=n.useState(null);return{data:a,loading:u,error:c,remove:async(s="")=>{r(!0),i(null);try{const o=`${e}${s}`,b=await y("delete",o,void 0,t);return p(b),b}catch(o){return i(o),null}finally{r(!1)}}}},addFilter:(e,t)=>{l(a=>({...a,[e]:t}))},removeFilter:e=>{l(t=>{const a={...t};return delete a[e],a})},clearFilters:()=>l({}),setSearch:e=>k(e),clearSearch:()=>k(""),setPage:e=>S(t=>({...t,page:e})),setPageSize:e=>S(t=>({...t,pageSize:e,page:1})),filters:g,searchQuery:d,pagination:f}};export{W as A,R as s,B as u};
