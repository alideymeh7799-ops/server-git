import{j as s,a3 as N,B as m}from"./index-akJh1a2u.js";import{u as w}from"./use-request-D0F366jR.js";import{u as k,b as S}from"./user-Broof_Gn.js";import{r as n}from"./vendor-core-CiUIJZ_7.js";import{I as v,j as D,b as I}from"./vendor-ui-DnFwFa5O.js";const G=({title:x,fields:c,type:a})=>{const{can:o}=k(),{operationList:d,resourceList:l}=N,[u,g]=n.useState(Object.fromEntries(c.map(e=>[e.name,e.value||""]))),r={emza_yegans:l.ELEMEBARGASHTI,emza_conts:l.EMZA_TANKHAH,emza_sanad_barghashtis:l.EMZA_SANAD_BARGASHTI},b=w(),[h,R]=n.useState(Date.now()),p=b.useGetData(S(r[a],d.GETALL));n.useEffect(()=>{p.fetchData()},[h]);const[f,j]=n.useState(Object.fromEntries(c.map(e=>[e.name,!1]))),y=(e,t)=>{g(i=>({...i,[e]:t}))},A=e=>{j(t=>({...t,[e]:!t[e]}))},E=()=>{};return s.jsx("div",{className:"flex justify-center px-4 py-10",children:s.jsxs("div",{className:"w-full max-w-6xl bg-white dark:bg-gray-900 shadow-md rounded-xl p-6 sm:p-10 transition-colors",children:[s.jsxs("h2",{className:"text-center text-2xl sm:text-3xl font-bold mb-10 text-gray-800 dark:text-white",children:["✍️ ",x]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:c.map(e=>{const t=f[e.name];return s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:e.label}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(v,{value:u[e.name],disabled:!t,onChange:i=>y(e.name,i.target.value),className:`w-full transition-all ${t?"bg-white dark:bg-gray-800 border-blue-500":"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-500"}`}),(o(r[a],"create")||o(r[a],"update"))&&s.jsx(m,{onClick:()=>A(e.name),className:`flex items-center cursor-pointer px-[10px] py-2 justify-center duration-300 ${t?"bg-chart2  ":"bg-chart3"}`,children:t?s.jsx(D,{}):s.jsx(I,{})})]})]},e.name)})}),(o(r[a],"create")||o(r[a],"update"))&&s.jsx("div",{className:"mt-10 flex items-center justify-center w-full",children:s.jsx(m,{className:"w-full max-w-[240px] text-white bg-success font-bold text-lg",onClick:E,children:"ثبت اطلاعات"})})]})})};export{G as S};
