import{i as u,k as p,l as j,m as h,j as s,B as g,n as y}from"./index-Bt7t-uRm.js";import{F as f,a as n,b as l,c as t,d as a}from"./form-B1s-44fp.js";import{I as i}from"./input-D4IfRxCz.js";import{u as w}from"./index.esm-BGUB25Qb.js";import{ReturnButton as F}from"./ReturnButton-B4Hqo4db.js";import"./vendor-core-CiUIJZ_7.js";import"./vendor-utils-IiNHtr66.js";import"./vendor-ui-DnFwFa5O.js";function E(){const{t:e}=u(),{loginState:m,backToLogin:c}=p(),d=j({mutationFn:y.signup}),o=w({defaultValues:{username:"",email:"",password:"",confirmPassword:""}}),x=async r=>{await d.mutateAsync(r),c()};return m!==h.REGISTER?null:s.jsx(f,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(x),className:"space-y-4",children:[s.jsx("div",{className:"flex flex-col items-center gap-2 text-center",children:s.jsx("h1",{className:"text-2xl font-bold",children:e("sys.login.signUpFormTitle")})}),s.jsx(n,{control:o.control,name:"username",rules:{required:e("sys.login.accountPlaceholder")},render:({field:r})=>s.jsxs(l,{children:[s.jsx(t,{children:s.jsx(i,{placeholder:e("sys.login.userName"),...r})}),s.jsx(a,{})]})}),s.jsx(n,{control:o.control,name:"email",rules:{required:e("sys.login.emaildPlaceholder")},render:({field:r})=>s.jsxs(l,{children:[s.jsx(t,{children:s.jsx(i,{placeholder:e("sys.login.email"),...r})}),s.jsx(a,{})]})}),s.jsx(n,{control:o.control,name:"password",rules:{required:e("sys.login.passwordPlaceholder")},render:({field:r})=>s.jsxs(l,{children:[s.jsx(t,{children:s.jsx(i,{type:"password",placeholder:e("sys.login.password"),...r})}),s.jsx(a,{})]})}),s.jsx(n,{control:o.control,name:"confirmPassword",rules:{required:e("sys.login.confirmPasswordPlaceholder"),validate:r=>r===o.getValues("password")||e("sys.login.diffPwd")},render:({field:r})=>s.jsxs(l,{children:[s.jsx(t,{children:s.jsx(i,{type:"password",placeholder:e("sys.login.confirmPassword"),...r})}),s.jsx(a,{})]})}),s.jsx(g,{type:"submit",className:"w-full",children:e("sys.login.registerButton")}),s.jsxs("div",{className:"mb-2 text-xs text-gray",children:[s.jsx("span",{children:e("sys.login.registerAndAgree")}),s.jsx("a",{href:"./",className:"text-sm underline! text-primary!",children:e("sys.login.termsOfService")})," & ",s.jsx("a",{href:"./",className:"text-sm underline! text-primary!",children:e("sys.login.privacyPolicy")})]}),s.jsx(F,{onClick:c})]})})}export{E as default};
