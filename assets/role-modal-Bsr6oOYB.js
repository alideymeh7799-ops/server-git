import{V as E,j as e,D as b,E as D,F as I,G as C,K as h,W as L,H as R,B as j}from"./index-Bt7t-uRm.js";import{r as o}from"./vendor-core-CiUIJZ_7.js";import{u as k}from"./index.esm-BGUB25Qb.js";import{F as T,a,b as i,e as n,c as l,L as p}from"./form-B1s-44fp.js";import{I as d}from"./input-D4IfRxCz.js";import{R as y,a as g}from"./radio-group-33fKWEns.js";import{T as B}from"./textarea-DdY3wtlb.js";import{h as O}from"./vendor-ui-DnFwFa5O.js";import"./vendor-utils-IiNHtr66.js";const N=L;function q({title:u,show:f,formValue:c,onOk:S,onCancel:m}){const r=k({defaultValues:c}),[v,x]=o.useState([]);o.useEffect(()=>{const s=E(c.permission);x(s.map(t=>t.id))},[c]),o.useEffect(()=>{r.reset(c)},[c,r]);const F=s=>{x(s),r.setValue("permission",N.filter(t=>s.includes(t.id)))};return e.jsx(b,{open:f,onOpenChange:s=>!s&&m(),children:e.jsxs(D,{children:[e.jsx(I,{children:e.jsx(C,{children:u})}),e.jsx(T,{...r,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{control:r.control,name:"name",render:({field:s})=>e.jsxs(i,{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(n,{className:"text-right",children:"Name"}),e.jsx("div",{className:"col-span-3",children:e.jsx(l,{children:e.jsx(d,{...s})})})]})}),e.jsx(a,{control:r.control,name:"code",render:({field:s})=>e.jsxs(i,{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(n,{className:"text-right",children:"Label"}),e.jsx("div",{className:"col-span-3",children:e.jsx(l,{children:e.jsx(d,{...s})})})]})}),e.jsx(a,{control:r.control,name:"order",render:({field:s})=>e.jsxs(i,{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(n,{className:"text-right",children:"Order"}),e.jsx("div",{className:"col-span-3",children:e.jsx(l,{children:e.jsx(d,{type:"number",...s})})})]})}),e.jsx(a,{control:r.control,name:"status",render:({field:s})=>e.jsxs(i,{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(n,{className:"text-right",children:"Status"}),e.jsx("div",{className:"col-span-3",children:e.jsx(l,{children:e.jsxs(y,{onValueChange:t=>s.onChange(Number(t)),defaultValue:String(s.value),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{value:String(h.ENABLE),id:"r1"}),e.jsx(p,{htmlFor:"r1",children:"Enable"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{value:String(h.DISABLE),id:"r2"}),e.jsx(p,{htmlFor:"r2",children:"Disable"})]})]})})})]})}),e.jsx(a,{control:r.control,name:"desc",render:({field:s})=>e.jsxs(i,{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(n,{className:"text-right",children:"Desc"}),e.jsx("div",{className:"col-span-3",children:e.jsx(l,{children:e.jsx(B,{...s})})})]})}),e.jsx(a,{control:r.control,name:"permission",render:()=>e.jsxs(i,{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(n,{className:"text-right",children:"Permission"}),e.jsx("div",{className:"col-span-3",children:e.jsx(l,{children:e.jsx(O,{checkable:!0,checkedKeys:v,treeData:N,fieldNames:{key:"id",children:"children",title:"name"},onCheck:F})})})]})})]})}),e.jsxs(R,{children:[e.jsx(j,{variant:"outline",onClick:m,children:"Cancel"}),e.jsx(j,{onClick:()=>{r.handleSubmit(S)()},children:"Save"})]})]})})}export{q as RoleModal};
