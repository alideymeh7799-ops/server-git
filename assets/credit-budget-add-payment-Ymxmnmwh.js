import{i as C,j as e,D as F,E as N,F as f,G as k,H as w,B as p}from"./index-Bt7t-uRm.js";import{F as S,a as m,b as i,e as d,c as l}from"./form-B1s-44fp.js";import{I as x}from"./input-D4IfRxCz.js";import{r as g}from"./vendor-core-CiUIJZ_7.js";import{p as E}from"./persian-OLrIT8M7.js";import{D as Y,p as q}from"./index-CkzAM18b.js";import{u as z}from"./index.esm-BGUB25Qb.js";import{S as _}from"./vendor-ui-DnFwFa5O.js";const{Option:B}=_;function R({title:b,show:j,formValue:n,onOk:v,onCancel:u,dataYegan:y}){const{t}=C(),a=z({defaultValues:n,mode:"onChange"}),[c,h]=g.useState(n.date_etebar||"");g.useEffect(()=>{a.reset(n),h(n.date_etebar||"")},[n,a]);const D=r=>{v({...r,date_etebar:c},n.number_etebar?"edit":"add")};return e.jsx(F,{open:j,onOpenChange:r=>!r&&u(),children:e.jsxs(N,{className:"sm:max-w-[500px]",children:[e.jsx(f,{children:e.jsx(k,{children:b})}),e.jsx(S,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(D),className:"space-y-4",children:[e.jsx(m,{control:a.control,name:"number_etebar",rules:{required:"این فیلد اجباری است",minLength:{value:3,message:"حداقل باید ۳ کاراکتر وارد کنید"}},render:({field:r,fieldState:s})=>e.jsxs(i,{children:[e.jsx(d,{children:t("credits.credit_budget_origin.number_payment")}),e.jsx(l,{children:e.jsx(x,{placeholder:t("credits.credit_budget_origin.placholder_number_payment"),...r,value:r.value||void 0})}),s.error&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:s.error.message})]})}),e.jsxs(i,{children:[e.jsx(d,{children:t("credits.credit_budget_origin.tarikh_payment")}),e.jsx(l,{children:e.jsx(Y,{calendar:E,locale:q,value:c!==""?c:Date.now(),onChange:r=>h(r||""),inputClass:"w-full rounded border px-3 py-2",calendarPosition:"bottom-right",format:"YYYY/MM/DD",placeholder:t("credits.credit_budget_origin.palceholder_tarikh_payment")})})]}),e.jsx(m,{control:a.control,name:"amount_etebar",rules:{required:"این فیلد اجباری است",min:{value:1,message:"مقدار باید حداقل ۱ باشد"}},render:({field:r,fieldState:s})=>e.jsxs(i,{children:[e.jsx(d,{children:t("credits.credit_budget_origin.payment_counter")}),e.jsx(l,{children:e.jsx(x,{...r,type:"number",placeholder:t("credits.credit_budget_origin.placeholder_tarikh_payment"),value:r.value||void 0})}),s.error&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:s.error.message})]})}),e.jsx(m,{control:a.control,name:"yegan_vagozar_id",rules:{required:"انتخاب یک گزینه الزامی است"},render:({field:r,fieldState:s})=>e.jsxs(i,{children:[e.jsx(d,{children:t("credits.credit_budget_origin.yegan_vagozar")}),e.jsx(l,{children:e.jsx(_,{style:{width:"100%"},value:r.value,onChange:r.onChange,placeholder:t("credits.credit_budget_origin.placeholder_yegan_vagozar"),children:y.map(o=>e.jsx(B,{value:o.id,className:"bg-background",children:o.name+"  -   کد یگان » "+o.code},o.id))})}),s.error&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:s.error.message})]})}),e.jsxs(w,{className:"pt-4",children:[e.jsx(p,{type:"button",variant:"outline",onClick:u,children:t("buttons.cansel")}),e.jsx(p,{type:"submit",className:"text-white",variant:"default",disabled:!a.formState.isValid,children:n.id?t("buttons.edit"):t("buttons.add")})]})]})})]})})}export{R as C};
